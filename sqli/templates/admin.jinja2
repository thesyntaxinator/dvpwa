{% extends 'base.jinja2' %}

{% block title %}Admin Panel{% endblock %}

{% block breadcrumbs %}
    <div class="col s12">
        <a href="/" class="breadcrumb">SQLI</a>
        <a href="/admin/" class="breadcrumb">Admin Panel</a>
    </div>
{% endblock %}

{% block content %}
    <h4>Admin Tools</h4>

    <div class="card">
        <div class="card-content">
            <span class="card-title">Export Data</span>
            <p>Export a database table to file.</p>
            <form method="POST" action="/admin/export">
                <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
                <div class="input-field">
                    <input id="table_name" name="table_name" type="text" value="students">
                    <label for="table_name">Table Name</label>
                </div>
                <div class="input-field">
                    <input id="format" name="format" type="text" value="csv">
                    <label for="format">Format</label>
                </div>
                <button class="btn pink waves-effect waves-light" type="submit">Export</button>
            </form>
        </div>
    </div>

    <div class="card">
        <div class="card-content">
            <span class="card-title">Read File</span>
            <p>Read a file from the application data directory.</p>
            <form method="GET" action="/admin/files">
                <div class="input-field">
                    <input id="filename" name="filename" type="text" placeholder="e.g. report.txt">
                    <label for="filename">Filename</label>
                </div>
                <button class="btn pink waves-effect waves-light" type="submit">Read</button>
            </form>
        </div>
    </div>

    <div class="card">
        <div class="card-content">
            <span class="card-title">Fetch URL</span>
            <p>Fetch content from a remote URL.</p>
            <form method="POST" action="/admin/fetch">
                <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
                <div class="input-field">
                    <input id="url" name="url" type="text" placeholder="https://example.com">
                    <label for="url">URL</label>
                </div>
                <button class="btn pink waves-effect waves-light" type="submit">Fetch</button>
            </form>
        </div>
    </div>

    <div class="card">
        <div class="card-content">
            <span class="card-title">Import Data</span>
            <p>Import serialized data (base64-encoded).</p>
            <form method="POST" action="/admin/import">
                <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
                <div class="input-field">
                    <textarea id="payload" name="payload" class="materialize-textarea"></textarea>
                    <label for="payload">Base64 Payload</label>
                </div>
                <button class="btn pink waves-effect waves-light" type="submit">Import</button>
            </form>
        </div>
    </div>

{% endblock %}
